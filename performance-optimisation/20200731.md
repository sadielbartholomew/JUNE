# Some guidelines for the performance optimisation # 


## Performance analysis ##

I rely on the Intel tools here. You can download those for free as part of the Intel Parallel Studio (as
long as you are a student). Ensure all pathes are properly set. On my system

source /opt/intel/bin/iccvars.sh intel64
source /opt/intel/itac/2020.0.015/bin/itacvars.sh
source /opt/intel/impi/2019.6.166/intel64/bin/mpivars.sh

does the job. I rely on the example script in JUNE/Notebooks for a first test, i.e. run

ipython3 quickstart.ipynb

I create a new project in VTune with ipython3 as executable. The notebook file is the input argument.

To make the problem trackable, I first reduce the simulation time. For this, I alter the file

 JUNE/configs/config_example.yaml
 
and make the simulator run for 31 days only.


## Software requirements ##

I used Intel Parallel Studio. Unfortunately, my first trials all crashed in profile mode with the message

vcs/tpss2/tpss/src/tpss/runtime/linux/exe/tpss_deepbind.c:237 tpss_deepbind_notify_on_pthread_loaded: Assertion

You have to ensure you update the software to Version 2020 Update 2. Otherwise, profiling this code base won't
work. This is a known bug on the Intel side.






